<div class="search">
  <form (ngSubmit)="querySuggestionSelected.emit(inputControl.value)">
    <input
      class="search__input"
      matInput
      [matAutocomplete]="autoComplete"
      [formControl]="inputControl"
      #input
    />
    <button class="search__btn" [class.inputted]="input.value">
      <mat-icon>search</mat-icon>
    </button>
    <mat-autocomplete
      (optionSelected)="querySuggestionSelected.emit($event.option.value)"
      #autoComplete="matAutocomplete"
    >
      <div *ngFor="let index of state.indices || []">
        <mat-option
          class="search__option"
          *ngFor="let option of index.hits"
          [value]="option.title"
          (click)="querySuggestionSelected.emit(option.title)"
        >
          {{ option.title }}
        </mat-option>
      </div>
    </mat-autocomplete>
  </form>
</div>
